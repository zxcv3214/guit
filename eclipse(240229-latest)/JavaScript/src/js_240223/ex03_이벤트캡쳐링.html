<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>버블링 문제</title>
<!-- 문제점 : p태그를 클릭하면 마우스 커서의 좌표에 4개의 태그가 있으므로
	        4개의 태그에서 동시에 이벤트가 발생한다.
	        
	 [자바스크립트 이벤트 전달 순서]
	 1. 이벤트 버블링 : 자식 노드 -> 부모 노드 순으로 이벤트 발생
	 2. 이벤트 캡쳐링 : 이벤트 버블링과 반대. 부모 노드 -> 자식 노드 순으로 실행

		이벤트 전달을 막는 방법
		=> 이벤트 객체의 stopPropagation()메소드를 사용한다.

-->

<style>

div:nth-child(1) {
	border : 5px solid red;
}
div>div:nth-child(1) {
	border : 5px solid orange;
}

h1 {
	border : 5px solid yellow;
}

p {
	border : 5px solid green;
}

</style>
 
</head>
<body>
	<div class="item" id="외부div">
		<div class="item" id="내부idv">
			<h1 class="item" id="h1">
				<p class="item" id="Paragraph">Paragraph</p>
			</h1>
		</div>
	</div>
	
	<script>
		//선택자로 선택되는 모든 문서 객체를 배열로 가져온다.
		var items = document.querySelectorAll(".item");
		//querySelector(선택자) - 선택자로 가장 처음 선택되는 문서 객체를 가져온다.
		
		function something(e) {
			var message = "현재 이벤트 실행하는 객체의 아이디 = "
					    + e.currentTarget.id + "\n이벤트 발생 객체 태그 이름 = "
					    + e.target.tagName;
			alert(message);
			
		}
		
		for (var i=0; i<items.length; i++) {
			items[i].addEventListener('click', something, true); //이벤트 캡쳐링
		}
		
	</script>
</body>